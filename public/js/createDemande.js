!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=30)}({30:function(e,t,n){e.exports=n(31)},31:function(e,t,n){n(32),n(33),n(34)},32:function(e,t){$("#userSelect").focus(),$(".liste_anatypes").hide();var n=window.location.protocol+"//"+window.location.host+window.location.pathname,a=!1;function o(e,t,n){$(".date_alerte").hide();var a=Date.now();a-e<0?$(t+"_futur").show():a-e>864e6?$(t+"_passe").show():($(t+"_ok").show(),$(n).focus())}function i(){if(""!==$("#prelevement").val()&&""!==$("#reception").val()){var e=Date.parse($("#prelevement").val());Date.parse($("#reception").val())-e<0?($(".date_ok").hide(),$("#reception_prelevement").show()):$(".date_ok").show()}}function l(e){var t=n.replace("laboratoire/demandes/create","api/anatypes/"+e);$.get({url:t}).done((function(e){var t=JSON.parse(e);$(".liste_anatypes").hide(),$.each(t,(function(e,t){$("#anatypes_"+t).show()}))})).fail((function(e){console.log("il y a une erreur "+e)}))}$("select[name='userDemande']").change((function(){if($(".listeSerie").remove(),$("#anatypeSelect").removeClass("is-invalid"),$("#typeAlerte").hide(),"Nouveau"==$("select[name='userDemande'] > option:selected").val()){var e=$("select[name='userDemande'] > option:selected"),t=n.replace("demandes","user");$.confirm({theme:"dark",type:"red",typeAnimated:"true",title:e.attr("titre"),content:e.attr("texte"),buttons:{oui:{text:"oui",btnClass:"btn-red",action:function(){window.location=t}},non:function(){}}})}else $("#userSelect > options:selected").attr("id"),$(this).removeClass("is-invalid").addClass("is-valid"),a?($("#especeSelect").addClass("is-valid"),l(a),$("#prelevement").focus()):$("#especeSelect").focus()})),$("#especeSelect").on("change",(function(){if(a=$("#especeSelect > option:selected").attr("id"),""==$("#userSelect > option:selected").val())$("#userSelect").focus().addClass("is-invalid"),$(".liste_anatypes").hide();else{var e=$("#especeSelect > option:selected").attr("id");$(this).addClass("is-valid"),$("#prelevement").focus(),l(e)}})),$("#prelevement").on("change",(function(){$(".date_alerte").hide(),id_actuel="#"+$(this).attr("id"),o(Date.parse($(this).val()),id_actuel,"#reception"),i()})),$("#reception").on("change",(function(){$(".date_alerte").hide(),id_actuel="#"+$(this).attr("id"),o(Date.parse($(this).val()),id_actuel,"#anatypeSelect"),i()}))},33:function(e,t){var n=window.location.protocol+"//"+window.location.host+window.location.pathname,a=$("#anatypeSelect > option:selected").val();function o(e){$("#premierPrelevementSerie").val(null),$("#estSerie").addClass("d-none"),$(".listeSerie").remove();var t=$("#especeSelect").children("option:selected").attr("id"),a=n.replace("laboratoire/demandes/create","api/anaactes/"+e+"/"+t);$("#anaacteSelect").children().remove(),$.get({url:a}).done((function(e){var t=JSON.parse(e),n='<option value="" disabled selected>Choisir une option ...</option>';$.each(t,(function(e,t){var a;n+='<option value="'+t.id+'">'+(((a=t.nom)+"").charAt(0).toUpperCase()+a.substr(1))+"</option>"})),$("#anaacteSelect").append(n),1==t.length&&($("#anaacteSelect").children().attr("selected","selected"),i($("#anaacteSelect > option:selected").val(),$("#userSelect > option:selected").attr("id")))}))}function i(e,t){var a=n.replace("laboratoire/demandes/create","api/estSerie/"+e+"/"+t);$.get({url:a,data_type:"json"}).done((function(e){$("#premier").empty();var t=JSON.parse(e);if(1==t.estSerie)if($("#estSerie").removeClass("d-none"),$("#premierPrelevementSerie").val("premier"),0!=t.nbDemandes){$("#pas_de_serie").hide(),$("#y_a_serie").show();for(var n=0;n<t.nbDemandes;n++)$("#premier").append('<div class="form-check"><input type="radio" class="form-check-input"  id="premierPrelevementSerie" name="serie" value="null" checked ><label class="form-check-label" for="premierPrelevementSerie">'+$("#premier_envoi").attr("texte")+'</label></div><div class="form-check mt-2"><input type="radio" class="form-check-input" id="serie_'+t[n].id+'" name="serie" value="'+t[n].id+'"><label class="form-check-label" for="demande_id">'+$("#autre").attr("texte")+" "+t[n].date_reception+"</label></div>")}else $("#y_a_serie").hide(),$("#pas_de_serie").show();else $("#premierPrelevementSerie").val(null),$("#estSerie").addClass("d-none"),$(".listeSerie").remove()})).fail((function(e){console.log(e)}))}null==a&&o(a),$("#anatypeSelect").on("focus",(function(){""==$("#userSelect > option:selected").val()&&($(this).addClass("is-invalid"),$("#typeAlerte").show(),$("#userSelect").focus())})),$("#anatypeSelect").on("change",(function(){o($(this).children("option:selected").val()),$(this).addClass("is-valid"),$("#anaacteSelect").focus()})),$("select[name='anaacte_id'] ").on("change",(function(){$(".listeSerie").remove(),i($("#anaacteSelect > option:selected").val(),$("#userSelect > option:selected").attr("id"))}))},34:function(e,t){var n=$("input[name='nbPrelevements']").val();$(".lignePrelevement").each((function(e){e<n&&($("#lignePrelevement_"+(e+1)).removeClass("d-none").addClass("d-flex"),$("input[name="+("identification_"+(e+1))+"]").attr("required",!0))})),$("input[name='nbPrelevements']").on("change",(function(e){n=$("input[name='nbPrelevements']").val(),$(".lignePrelevement").removeClass("d-flex").addClass("d-none"),$(".identification").attr("required",!1),$(".lignePrelevement").each((function(e){e<n&&($("#lignePrelevement_"+(e+1)).removeClass("d-none").addClass("d-flex"),$("input[name="+("identification_"+(e+1))+"]").attr("required",!0))}))}));$("#toVeto").prop("checked");function a(e){e?($("#choixDuVeto").removeClass("d-none").addClass("d-block"),$("#iconeVeto").addClass("d-none").removeClass("d-block")):($("#choixDuVeto").addClass("d-none").removeClass("d-block"),$("#iconeVeto").removeClass("d-none").addClass("d-block"))}a($("#toVeto").prop("checked")),$("#toVeto").on("change",(function(){a($("#toVeto").prop("checked"))})),$("#radioBtn a").on("click",(function(){var e=$(this).data("title"),t=$(this).data("toggle");$("#"+t).prop("value",e),$('a[data-toggle="'+t+'"]').not('[data-title="'+e+'"]').removeClass("active").addClass("notActive"),$('a[data-toggle="'+t+'"][data-title="'+e+'"]').removeClass("notActive").addClass("active")}))}});
//# sourceMappingURL=createDemande.js.map